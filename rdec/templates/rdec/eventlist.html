{% extends 'rdec/root.html' %}
{% block body %}
<h1>Roller Derby Event Coordinator</h1>
<h2>Event List</h2>
    <div class="table-responsive">
            <table class="table table-hover table-condensed">
        <thead>
        <tr>
            <th>Event</th>
            <th>Date</th>
            <th>Location</th>
            {% for role in roles %}
            <th>{{ role.role }}</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for event, roledata in eventmap.items %}
            <tr>
            <td><a href="{% url 'eventdetails' event.name|slugify event.id %}">{{ event.name }}</a></td>
            <td>{{ event.date }}</td>
            <td>{{ event.location }}</td>
            {% for role, typedata in roledata.items %}
                <td>{{ typedata.members|length }} {% if typedata.visitors %}+ {{ typedata.visitors|length }}V {% endif %}</td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>
{% endblock %}
